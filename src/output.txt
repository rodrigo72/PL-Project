ALLOC 3
ALLOC 3
ALLOC 3
ALLOC 3
ALLOC 21

START
	PUSHG 4 PUSHI 1 STORE 0
	PUSHI 2 PUSHA MYPUSH CALL POP 1
	PUSHI 11 PUSHA MYPUSH CALL POP 1
	PUSHI 3 PUSHA MYPUSH CALL POP 1
	PUSHI 4 PUSHA MYPUSH CALL POP 1
	PUSHI 45 PUSHA MYPUSH CALL POP 1
	PUSHI 8 PUSHA MYPUSH CALL POP 1
	PUSHI 19 PUSHA MYPUSH CALL POP 1
	PUSHA word2
	CALL
	PUSHA MYPOP CALL
	WRITEI
STOP

word0:
	PUSHA MYPOP CALL
	PUSHA MYPOP CALL
	PUSHA INCPOINTER CALL
	PUSHA INCPOINTER CALL
	PUSHA MYPUSH CALL POP 1
	PUSHA MYPUSH CALL POP 1
	PUSHA MYPOP CALL
	PUSHA MYPOP CALL
	SWAP
	SUP
	PUSHA MYPUSH CALL POP 1
	PUSHA IFSTATEMENT0 CALL
	RETURN

word1:
	PUSHA word0
	CALL
	PUSHA word0
	CALL
	RETURN

word2:
	PUSHG 4 LOAD 0
	PUSHI 1
	SUB
	PUSHA MYPUSH CALL POP 1
	PUSHI 1 PUSHA MYPUSH CALL POP 1
	PUSHA MYPOP CALL
	PUSHA MYPOP CALL
	SWAP
	PUSHG 0
	SWAP
	STORE 0
	PUSHG 0
	SWAP
	STORE 1
	PUSHG 0
	PUSHI 0
	STORE 2
	PUSHA FORLOOP0
	CALL
	RETURN


ENDLOOP:
	RETURN

FORLOOP0:
	PUSHG 0
	LOAD 0
	PUSHG 0
	LOAD 1
	INF
	JZ ENDLOOP
	PUSHG 0
	LOAD 0
	PUSHI 1
	ADD
	PUSHG 0
	SWAP
	STORE 0
	PUSHG 0
	LOAD 2
	PUSHI 1
	ADD
	PUSHG 0
	SWAP
	STORE 2
	PUSHA word0
	CALL
	JUMP FORLOOP0
	RETURN

EMPTYELSE:
	RETURN

IFSTATEMENT0:
	PUSHA MYPOP CALL
	JZ IFSTATEMENT1
	PUSHA DECPOINTER CALL
	RETURN

IFSTATEMENT1:
	PUSHA MYPOP CALL
	PUSHA MYPOP CALL
	SWAP
	PUSHA MYPUSH CALL POP 1
	PUSHA MYPUSH CALL POP 1
	PUSHA DECPOINTER CALL
	RETURN


INCPOINTER:
	PUSHG 4 DUP 1 LOAD 0 PUSHI 1 ADD STORE 0 RETURN

DECPOINTER:
	PUSHG 4 DUP 1 LOAD 0 PUSHI 1 SUB STORE 0 RETURN

MYPUSHAUX:
	PUSHG 4 PUSHFP LOAD -1 RETURN

MYPUSH:
	PUSHG 4 LOAD 0 PUSHI 1 EQUAL NOT JZ MYPUSH1
	PUSHG 4 LOAD 0 PUSHI 2 EQUAL NOT JZ MYPUSH2
	PUSHG 4 LOAD 0 PUSHI 3 EQUAL NOT JZ MYPUSH3
	PUSHG 4 LOAD 0 PUSHI 4 EQUAL NOT JZ MYPUSH4
	PUSHG 4 LOAD 0 PUSHI 5 EQUAL NOT JZ MYPUSH5
	PUSHG 4 LOAD 0 PUSHI 6 EQUAL NOT JZ MYPUSH6
	PUSHG 4 LOAD 0 PUSHI 7 EQUAL NOT JZ MYPUSH7
	PUSHG 4 LOAD 0 PUSHI 8 EQUAL NOT JZ MYPUSH8
	PUSHG 4 LOAD 0 PUSHI 9 EQUAL NOT JZ MYPUSH9
	PUSHG 4 LOAD 0 PUSHI 10 EQUAL NOT JZ MYPUSH10
	PUSHG 4 LOAD 0 PUSHI 11 EQUAL NOT JZ MYPUSH11
	PUSHG 4 LOAD 0 PUSHI 12 EQUAL NOT JZ MYPUSH12
	PUSHG 4 LOAD 0 PUSHI 13 EQUAL NOT JZ MYPUSH13
	PUSHG 4 LOAD 0 PUSHI 14 EQUAL NOT JZ MYPUSH14
	PUSHG 4 LOAD 0 PUSHI 15 EQUAL NOT JZ MYPUSH15
	PUSHG 4 LOAD 0 PUSHI 16 EQUAL NOT JZ MYPUSH16
	PUSHG 4 LOAD 0 PUSHI 17 EQUAL NOT JZ MYPUSH17
	PUSHG 4 LOAD 0 PUSHI 18 EQUAL NOT JZ MYPUSH18
	PUSHG 4 LOAD 0 PUSHI 19 EQUAL NOT JZ MYPUSH19
	PUSHG 4 LOAD 0 PUSHI 20 EQUAL NOT JZ MYPUSH20
	ERR "STACK IS FULL"

MYPUSH1: PUSHA MYPUSHAUX CALL STORE 1 JUMP INCPOINTER
MYPUSH2: PUSHA MYPUSHAUX CALL STORE 2 JUMP INCPOINTER
MYPUSH3: PUSHA MYPUSHAUX CALL STORE 3 JUMP INCPOINTER
MYPUSH4: PUSHA MYPUSHAUX CALL STORE 4 JUMP INCPOINTER
MYPUSH5: PUSHA MYPUSHAUX CALL STORE 5 JUMP INCPOINTER
MYPUSH6: PUSHA MYPUSHAUX CALL STORE 6 JUMP INCPOINTER
MYPUSH7: PUSHA MYPUSHAUX CALL STORE 7 JUMP INCPOINTER
MYPUSH8: PUSHA MYPUSHAUX CALL STORE 8 JUMP INCPOINTER
MYPUSH9: PUSHA MYPUSHAUX CALL STORE 9 JUMP INCPOINTER
MYPUSH10: PUSHA MYPUSHAUX CALL STORE 10 JUMP INCPOINTER
MYPUSH11: PUSHA MYPUSHAUX CALL STORE 11 JUMP INCPOINTER
MYPUSH12: PUSHA MYPUSHAUX CALL STORE 12 JUMP INCPOINTER
MYPUSH13: PUSHA MYPUSHAUX CALL STORE 13 JUMP INCPOINTER
MYPUSH14: PUSHA MYPUSHAUX CALL STORE 14 JUMP INCPOINTER
MYPUSH15: PUSHA MYPUSHAUX CALL STORE 15 JUMP INCPOINTER
MYPUSH16: PUSHA MYPUSHAUX CALL STORE 16 JUMP INCPOINTER
MYPUSH17: PUSHA MYPUSHAUX CALL STORE 17 JUMP INCPOINTER
MYPUSH18: PUSHA MYPUSHAUX CALL STORE 18 JUMP INCPOINTER
MYPUSH19: PUSHA MYPUSHAUX CALL STORE 19 JUMP INCPOINTER
MYPUSH20: PUSHA MYPUSHAUX CALL STORE 20 JUMP INCPOINTER

MYPOP:
	PUSHG 4 LOAD 0 PUSHI 2 EQUAL NOT JZ MYPOP1
	PUSHG 4 LOAD 0 PUSHI 3 EQUAL NOT JZ MYPOP2
	PUSHG 4 LOAD 0 PUSHI 4 EQUAL NOT JZ MYPOP3
	PUSHG 4 LOAD 0 PUSHI 5 EQUAL NOT JZ MYPOP4
	PUSHG 4 LOAD 0 PUSHI 6 EQUAL NOT JZ MYPOP5
	PUSHG 4 LOAD 0 PUSHI 7 EQUAL NOT JZ MYPOP6
	PUSHG 4 LOAD 0 PUSHI 8 EQUAL NOT JZ MYPOP7
	PUSHG 4 LOAD 0 PUSHI 9 EQUAL NOT JZ MYPOP8
	PUSHG 4 LOAD 0 PUSHI 10 EQUAL NOT JZ MYPOP9
	PUSHG 4 LOAD 0 PUSHI 11 EQUAL NOT JZ MYPOP10
	PUSHG 4 LOAD 0 PUSHI 12 EQUAL NOT JZ MYPOP11
	PUSHG 4 LOAD 0 PUSHI 13 EQUAL NOT JZ MYPOP12
	PUSHG 4 LOAD 0 PUSHI 14 EQUAL NOT JZ MYPOP13
	PUSHG 4 LOAD 0 PUSHI 15 EQUAL NOT JZ MYPOP14
	PUSHG 4 LOAD 0 PUSHI 16 EQUAL NOT JZ MYPOP15
	PUSHG 4 LOAD 0 PUSHI 17 EQUAL NOT JZ MYPOP16
	PUSHG 4 LOAD 0 PUSHI 18 EQUAL NOT JZ MYPOP17
	PUSHG 4 LOAD 0 PUSHI 19 EQUAL NOT JZ MYPOP18
	PUSHG 4 LOAD 0 PUSHI 20 EQUAL NOT JZ MYPOP19
	ERR "STACK IS EMPTY"

MYPOP1: PUSHG 4 LOAD 1 jump DECPOINTER
MYPOP2: PUSHG 4 LOAD 2 jump DECPOINTER
MYPOP3: PUSHG 4 LOAD 3 jump DECPOINTER
MYPOP4: PUSHG 4 LOAD 4 jump DECPOINTER
MYPOP5: PUSHG 4 LOAD 5 jump DECPOINTER
MYPOP6: PUSHG 4 LOAD 6 jump DECPOINTER
MYPOP7: PUSHG 4 LOAD 7 jump DECPOINTER
MYPOP8: PUSHG 4 LOAD 8 jump DECPOINTER
MYPOP9: PUSHG 4 LOAD 9 jump DECPOINTER
MYPOP10: PUSHG 4 LOAD 10 jump DECPOINTER
MYPOP11: PUSHG 4 LOAD 11 jump DECPOINTER
MYPOP12: PUSHG 4 LOAD 12 jump DECPOINTER
MYPOP13: PUSHG 4 LOAD 13 jump DECPOINTER
MYPOP14: PUSHG 4 LOAD 14 jump DECPOINTER
MYPOP15: PUSHG 4 LOAD 15 jump DECPOINTER
MYPOP16: PUSHG 4 LOAD 16 jump DECPOINTER
MYPOP17: PUSHG 4 LOAD 17 jump DECPOINTER
MYPOP18: PUSHG 4 LOAD 18 jump DECPOINTER
MYPOP19: PUSHG 4 LOAD 19 jump DECPOINTER
MYPOP20: PUSHG 4 LOAD 20 jump DECPOINTER
